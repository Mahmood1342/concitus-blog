{% extends 'blog/base.html' %}
{% load staticfiles %}
{% load tagging_tags %}
{% load blog_tags %}


{% block title %}Detail: {{ post.title }}{% endblock %}
{% block content %}

    <div class="col-md-10">

    <div class="row">
        <h2 class="entry-title">
							{{ post.title }}
						</h2>
        {% if user.is_authenticated %}

             <span>
                            <span class="glyphicon glyphicon-pencil"></span>
                            <a href="{% url 'blog:post_edit' pk=post.pk %}">Edit Post</a>
                        </span>


        {% endif %}
    </div>



        <div class="row">
                        <span>
                            <span class="glyphicon glyphicon-user"></span>
                            <a href="#">{{ post.author }}</a>
                        </span>
            <span>
                            <span class="glyphicon glyphicon-time"></span>
                            {{ post.publish_time }}
                        </span>
            <span>
                <span class="glyphicon glyphicon-tags" style="padding-right: 3px"></span>
            {% tags_for_object post as tag_list %}
                {% for tag in tag_list %}
                                    <a href="{% url 'blog:tagSearch' pk=tag.name %}" title="" rel="category tag">{{ tag }}</a>,
                                    {% endfor %}

            </span>


        </div>

    <div class="row" style="margin-top: 20px">
        {{ post.text|safe }}
    </div>

    </div>

{% endblock %}




{% block sidebar %}

    {% if user.is_authenticated is False %}

<div class="col-md-8"  style="padding-top: 30px">
    <div class="row" style="background-color: lightgrey; padding-left: 20px">
        <div class="card my-8">
            <h2 class="card-header">Tags</h2>

                        <ul class="list-unstyled mb-0">
                            {% for tag in all %}
                                <li>
                                    <a href="{% url 'blog:tagSearch' pk=tag.name %}" style="display:inline-block">
                                        <h5>{{ tag.name }}</h5></a>
                                    ({{ tag.count }})
                                </li>
                            {% endfor %}

                        </ul>

        </div>
    </div>


<hr>

    <div class="row" style="background-color: lightgrey; padding-left: 20px">
        <div class="card my-8">
            <h2 class="card-header">Recent Posts</h2>
                        {% show_latest_posts 3 %}
        </div>
    </div>

<hr>
    <div class="row" style="background-color: lightgrey; padding-left: 20px">
        <div class="card my-8">
            <h2 class="card-header">Popular Posts</h2>



                        {% show_popular_posts 3 %}



        </div>
    </div>
</div>
    {% endif %}
{% endblock %}


